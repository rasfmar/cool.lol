{"version":3,"sources":["assets/thumbnail.png","pages/General.js","components/LoadingIcon.js","config/constants.js","components/Head.js","pages/Home.js","pages/Error.js","pages/Redirect.js","App.js","index.js"],"names":["module","exports","General","children","className","eventLabel","to","role","aria-label","LoadingIcon","API_URL","URL_REGEX","Head","Helmet","name","content","thumbnail","property","Home","useState","loading","setLoading","failed","setFailed","urlInfo","setUrlInfo","baseUrl","window","location","origin","useEffect","axios","get","catch","err","Object","keys","length","onSubmit","e","preventDefault","post","url","target","value","then","res","data","type","placeholder","required","slug","key","Error","pathname","Redirect","match","params","history","useHistory","test","href","push","App","ReactGA","initialize","pageview","search","exact","path","component","status","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5afa499e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/thumbnail.fc162e40.png\";","import React from \"react\";\nimport { OutboundLink } from \"react-ga\";\n\nconst General = ({ children }) => {\n  return (\n    <div className=\"App\">\n      <div className=\"wrapper\"></div>\n      <div className=\"static\"></div>\n      <div className=\"content\">\n        <h1>cool.lol</h1>\n        <h4>shorten any url</h4>\n        {children}\n      </div>\n      <OutboundLink\n        eventLabel=\"marcusfranco\"\n        to=\"https://marcusfran.co\"\n      >\n        Marcus Franco <span role=\"img\" aria-label=\"a dude with sunglasses\">ðŸ˜Ž</span>\n      </OutboundLink>\n    </div>\n  );\n};\n\nexport default General;\n","import React from \"react\";\n\nconst LoadingIcon = () => (\n  <div className=\"loading-icon\"> \n    <div className=\"loading-icon sub-loading-icon-1\"> \n    </div>\n  </div>\n);\n\nexport default LoadingIcon;\n","export const API_URL = \"http://localhost:1234/api\";\n\n// eslint-disable-next-line\nexport const URL_REGEX = /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$/;\n","import React from \"react\";\nimport Helmet from \"react-helmet\";\nimport thumbnail from \"../assets/thumbnail.png\";\n\nconst Head = () => (\n  <Helmet>\n    <meta name=\"keywords\" content=\"cool,lol,cool.lol\"/>\n    <meta name=\"description\" content=\"a free url shortener\"/>\n    <meta name=\"twitter:card\" content=\"cool lol\"/>\n    <meta name=\"twitter:site\" content=\"@rasfmar\"/>\n    <meta name=\"twitter:title\" content=\"cool.lol\"/>\n    <meta name=\"twitter:description\" content=\"a free url shortener\"/>\n    <meta name=\"twitter:creator\" content=\"@rasfmar\"/>\n    <meta name=\"twitter:image\" content={thumbnail}/>\n    <meta property=\"og:title\" content=\"cool.lol\"/>\n    <meta property=\"og:url\" content=\"https://cool.lol\"/>\n    <meta property=\"og:image\" content={thumbnail}/>\n    <meta property=\"og:description\" content=\"a free url shortener\"/>\n    <meta property=\"og:site_name\" content=\"cool.lol\"/>\n  </Helmet>\n);\n\nexport default Head;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport General from \"./General\";\nimport LoadingIcon from \"../components/LoadingIcon\";\nimport axios from \"axios\";\nimport { API_URL } from \"../config/constants\";\nimport Head from \"../components/Head\";\n\nconst Home = () => {\n  const [loading, setLoading] = useState(false);\n  const [failed, setFailed] = useState(false);\n  const [urlInfo, setUrlInfo] = useState({});\n  const baseUrl = window.location.origin;\n\n  const onSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    axios\n      .post(API_URL + \"/create\", {\n        url: e.target[0].value\n      })\n      .then(res => {\n        setLoading(false);\n        setFailed(false);\n        setUrlInfo(res.data);\n      })\n      .catch(err => {\n        setLoading(false);\n        setFailed(true);\n      });\n  };\n\n  useEffect(() => {\n    axios\n      .get(API_URL)\n      .catch(err => {\n        setFailed(true);\n      });\n  }, []);\n\n  return (\n    <>\n      <Head />\n      <General>\n        {failed && (\n          <p>server issued an error. try again later</p>\n        )}\n        {!loading ? (\n          <div>\n            {Object.keys(urlInfo).length === 0 ? (\n              <form onSubmit={onSubmit}>\n                <input type=\"text\" placeholder=\"enter your long url\" required />\n                <input type=\"submit\" value=\"generate\" />\n              </form>\n            ) : (\n              <>\n                <p>your url has been created: <Link to={`/${urlInfo.slug}`}>{`${baseUrl}/${urlInfo.slug}`}</Link></p>\n                <p>your secret access key is: <b>{urlInfo.key}</b></p>\n                <p>the key will allow you to view data for your url (eventually.)</p>\n              </>\n            )}\n          </div>\n        ) : (\n          <LoadingIcon />\n        )}\n      </General>\n    </>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport General from \"./General\";\nimport Head from \"../components/Head\";\n\nconst Error = ({ location }) => {\n  return (\n    <>\n      <Head />\n      <General>\n        <p>not found: {location.pathname}</p>\n        <Link to=\"/\">back home</Link>\n      </General>\n    </>\n  );\n};\n\nexport default Error;\n","import React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { API_URL, URL_REGEX } from \"../config/constants\";\nimport axios from \"axios\";\n\nconst Redirect = ({ match }) => {\n  const { slug } = match.params;\n  const history = useHistory();\n\n  useEffect(() => {\n    axios.get(API_URL + \"/click/\" + slug)\n      .then(res => {\n        let { url } = res.data;\n        if (!URL_REGEX.test(url)) {\n          url = \"https://\" + url;\n        }\n        if (!URL_REGEX.test(url)) {\n          throw new Error(\"Invalid URL\");\n        }\n        window.location.href = url;\n      })\n      .catch(err => {\n        history.push(\"/\");\n      });\n  }, [history, slug]);\n\n  return (\n    <p>Redirecting</p>\n  );\n};\n\nexport default Redirect;\n","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Error from \"./pages/Error\";\nimport Redirect from \"./pages/Redirect\";\nimport ReactGA from \"react-ga\";\n\nconst App = () => {\n  useEffect(() => {\n    ReactGA.initialize(\"UA-156555564-2\");\n    ReactGA.pageview(window.location.pathname + window.location.search);\n  }, []);\n  \n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/:slug([\\w\\-]{5})\" component={Redirect} status={301} />\n      <Route component={Error} status={404} />\n    </Switch>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./stylesheets/index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}
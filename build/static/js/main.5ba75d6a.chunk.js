(this["webpackJsonpcool.lol-frontend"]=this["webpackJsonpcool.lol-frontend"]||[]).push([[0],{31:function(e,t,a){e.exports=a(60)},36:function(e,t,a){},60:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(29),r=a.n(l),o=a(7),u=(a(36),a(2)),i=a(15),s=a(10),m=function(e){var t=e.children;return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"wrapper"}),c.a.createElement("div",{className:"static"}),c.a.createElement("div",{className:"content"},c.a.createElement("h1",null,"cool.lol"),c.a.createElement("h4",null,"shorten any url"),t),c.a.createElement(s.a,{eventLabel:"marcusfranco",to:"https://marcusfran.co"},"Marcus Franco ",c.a.createElement("span",{role:"img","aria-label":"a dude with sunglasses"},"\ud83d\ude0e")))},p=function(){return c.a.createElement("div",{className:"loading-icon"},c.a.createElement("div",{className:"loading-icon sub-loading-icon-1"}))},E=a(9),f=a.n(E),h=a(12),d=a.n(h);d.a.config();var b=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),u=Object(i.a)(r,2),s=u[0],E=u[1],h=Object(n.useState)({}),d=Object(i.a)(h,2),b=d[0],v=d[1],g=window.location.origin,w="https://cool-lol-api.herokuapp.com/api";return Object(n.useEffect)((function(){f.a.get(w).catch((function(e){E(!0)}))}),[w]),c.a.createElement(m,null,s&&c.a.createElement("p",null,"server issued an error. try again later"),a?c.a.createElement(p,null):c.a.createElement("div",null,0===Object.keys(b).length?c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),l(!0),f.a.post(w+"/create",{url:e.target[0].value}).then((function(e){l(!1),E(!1),v(e.data)})).catch((function(e){l(!1),E(!0)}))}},c.a.createElement("input",{type:"text",placeholder:"enter your long url",required:!0}),c.a.createElement("input",{type:"submit",value:"generate"})):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"your url has been created: ",c.a.createElement(o.b,{to:"/".concat(b.slug)},"".concat(g,"/").concat(b.slug))),c.a.createElement("p",null,"your secret access key is: ",c.a.createElement("b",null,b.key)),c.a.createElement("p",null,"the key will allow you to view data for your url (eventually.)"))))},v=function(e){var t=e.location;return c.a.createElement(m,null,c.a.createElement("p",null,"not found: ",t.pathname),c.a.createElement(o.b,{to:"/"},"back home"))},g=/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/;d.a.config();var w=function(e){var t=e.match.params.slug,a=Object(u.f)(),l="https://cool-lol-api.herokuapp.com/api";return Object(n.useEffect)((function(){f.a.get(l+"/click/"+t).then((function(e){var t=e.data.url;if(g.test(t)||(t="https://"+t),!g.test(t))throw new Error("Invalid URL");window.location.href=t})).catch((function(e){a.push("/")}))}),[a,t,l]),c.a.createElement("p",null,"Redirecting")},y=function(){return Object(n.useEffect)((function(){s.b.initialize("UA-156555564-2"),s.b.pageview(window.location.pathname+window.location.search)}),[]),c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",component:b}),c.a.createElement(u.a,{path:"/:slug([\\w\\-]{5})",component:w,status:301}),c.a.createElement(u.a,{component:v,status:404}))};r.a.render(c.a.createElement(o.a,null,c.a.createElement(y,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.5ba75d6a.chunk.js.map
(this["webpackJsonpcool.lol-frontend"]=this["webpackJsonpcool.lol-frontend"]||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/thumbnail.fc162e40.png"},34:function(e,t,a){e.exports=a(61)},39:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(29),c=a.n(r),o=a(7),m=(a(39),a(3)),u=a(15),i=a(10),s=function(e){var t=e.children;return l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"wrapper"}),l.a.createElement("div",{className:"static"}),l.a.createElement("div",{className:"content"},l.a.createElement("h1",null,"cool.lol"),l.a.createElement("h4",null,"shorten any url"),t),l.a.createElement(i.a,{eventLabel:"marcusfranco",to:"https://marcusfran.co"},"Marcus Franco ",l.a.createElement("span",{role:"img","aria-label":"a dude with sunglasses"},"\ud83d\ude0e")))},p=function(){return l.a.createElement("div",{className:"loading-icon"},l.a.createElement("div",{className:"loading-icon sub-loading-icon-1"}))},E=a(9),f=a.n(E),d="http://localhost:1234/api",h=/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/,g=a(30),w=a(16),b=a.n(w),v=function(){return l.a.createElement(g.a,null,l.a.createElement("meta",{name:"keywords",content:"cool,lol,cool.lol"}),l.a.createElement("meta",{name:"description",content:"a free url shortener"}),l.a.createElement("meta",{name:"twitter:card",content:"cool lol"}),l.a.createElement("meta",{name:"twitter:site",content:"@rasfmar"}),l.a.createElement("meta",{name:"twitter:title",content:"cool.lol"}),l.a.createElement("meta",{name:"twitter:description",content:"a free url shortener"}),l.a.createElement("meta",{name:"twitter:creator",content:"@rasfmar"}),l.a.createElement("meta",{name:"twitter:image",content:b.a}),l.a.createElement("meta",{property:"og:title",content:"cool.lol"}),l.a.createElement("meta",{property:"og:url",content:"https://cool.lol"}),l.a.createElement("meta",{property:"og:image",content:b.a}),l.a.createElement("meta",{property:"og:description",content:"a free url shortener"}),l.a.createElement("meta",{property:"og:site_name",content:"cool.lol"}))},y=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),m=Object(u.a)(c,2),i=m[0],E=m[1],h=Object(n.useState)({}),g=Object(u.a)(h,2),w=g[0],b=g[1],y=window.location.origin;return Object(n.useEffect)((function(){f.a.get(d).catch((function(e){E(!0)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement(s,null,i&&l.a.createElement("p",null,"server issued an error. try again later"),a?l.a.createElement(p,null):l.a.createElement("div",null,0===Object.keys(w).length?l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),r(!0),f.a.post(d+"/create",{url:e.target[0].value}).then((function(e){r(!1),E(!1),b(e.data)})).catch((function(e){r(!1),E(!0)}))}},l.a.createElement("input",{type:"text",placeholder:"enter your long url",required:!0}),l.a.createElement("input",{type:"submit",value:"generate"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"your url has been created: ",l.a.createElement(o.b,{to:"/".concat(w.slug)},"".concat(y,"/").concat(w.slug))),l.a.createElement("p",null,"your secret access key is: ",l.a.createElement("b",null,w.key)),l.a.createElement("p",null,"the key will allow you to view data for your url (eventually.)")))))},j=function(e){var t=e.location;return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null),l.a.createElement(s,null,l.a.createElement("p",null,"not found: ",t.pathname),l.a.createElement(o.b,{to:"/"},"back home")))},O=function(e){var t=e.match.params.slug,a=Object(m.f)();return Object(n.useEffect)((function(){f.a.get(d+"/click/"+t).then((function(e){var t=e.data.url;if(h.test(t)||(t="https://"+t),!h.test(t))throw new Error("Invalid URL");window.location.href=t})).catch((function(e){a.push("/")}))}),[a,t]),l.a.createElement("p",null,"Redirecting")},k=function(){return Object(n.useEffect)((function(){i.b.initialize("UA-156555564-2"),i.b.pageview(window.location.pathname+window.location.search)}),[]),l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/",component:y}),l.a.createElement(m.a,{path:"/:slug([\\w\\-]{5})",component:O,status:301}),l.a.createElement(m.a,{component:j,status:404}))};c.a.render(l.a.createElement(o.a,null,l.a.createElement(k,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.5afa499e.chunk.js.map
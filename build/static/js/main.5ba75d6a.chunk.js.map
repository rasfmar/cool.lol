{"version":3,"sources":["pages/General.js","components/LoadingIcon.js","pages/Home.js","pages/Error.js","config/constants.js","pages/Redirect.js","App.js","index.js"],"names":["General","children","className","eventLabel","to","role","aria-label","LoadingIcon","dotenv","config","Home","useState","loading","setLoading","failed","setFailed","urlInfo","setUrlInfo","baseUrl","window","location","origin","API_URL","process","useEffect","axios","get","catch","err","Object","keys","length","onSubmit","e","preventDefault","post","url","target","value","then","res","data","type","placeholder","required","slug","key","Error","pathname","URL_REGEX","Redirect","match","params","history","useHistory","test","href","push","App","ReactGA","initialize","pageview","search","exact","path","component","status","ReactDOM","render","document","getElementById"],"mappings":"wQAuBeA,EApBC,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACjB,OACE,yBAAKC,UAAU,OACb,yBAAKA,UAAU,YACf,yBAAKA,UAAU,WACf,yBAAKA,UAAU,WACb,wCACA,+CACCD,GAEH,kBAAC,IAAD,CACEE,WAAW,eACXC,GAAG,yBAFL,iBAIgB,0BAAMC,KAAK,MAAMC,aAAW,0BAA5B,mBCRPC,EAPK,kBAClB,yBAAKL,UAAU,gBACb,yBAAKA,UAAU,sC,iCCEnBM,IAAOC,SAEP,IA6DeC,EA7DF,WAAO,IAAD,EACaC,oBAAS,GADtB,mBACVC,EADU,KACDC,EADC,OAEWF,oBAAS,GAFpB,mBAEVG,EAFU,KAEFC,EAFE,OAGaJ,mBAAS,IAHtB,mBAGVK,EAHU,KAGDC,EAHC,KAIXC,EAAUC,OAAOC,SAASC,OAC1BC,EAAUC,yCA6BhB,OARAC,qBAAU,WACRC,IACGC,IAAIJ,GACJK,OAAM,SAAAC,GACLb,GAAU,QAEb,CAACO,IAGF,kBAAC,EAAD,KACGR,GACC,sEAEAF,EAgBA,kBAAC,EAAD,MAfA,6BACmC,IAAhCiB,OAAOC,KAAKd,GAASe,OACpB,0BAAMC,SAnCC,SAAAC,GACfA,EAAEC,iBACFrB,GAAW,GAEXY,IACGU,KAAKb,EAAU,UAAW,CACzBc,IAAKH,EAAEI,OAAO,GAAGC,QAElBC,MAAK,SAAAC,GACJ3B,GAAW,GACXE,GAAU,GACVE,EAAWuB,EAAIC,SAEhBd,OAAM,SAAAC,GACLf,GAAW,GACXE,GAAU,QAqBJ,2BAAO2B,KAAK,OAAOC,YAAY,sBAAsBC,UAAQ,IAC7D,2BAAOF,KAAK,SAASJ,MAAM,cAG7B,oCACE,yDAA8B,kBAAC,IAAD,CAAMlC,GAAE,WAAMY,EAAQ6B,OAAtB,UAAkC3B,EAAlC,YAA6CF,EAAQ6B,QACnF,yDAA8B,2BAAI7B,EAAQ8B,MAC1C,iGC7CCC,EATD,SAAC,GAAkB,IAAhB3B,EAAe,EAAfA,SACf,OACE,kBAAC,EAAD,KACE,yCAAeA,EAAS4B,UACxB,kBAAC,IAAD,CAAM5C,GAAG,KAAT,eCPO6C,EAAY,0GCIzBzC,IAAOC,SAEP,IA2BeyC,EA3BE,SAAC,GAAe,IACvBL,EADsB,EAAZM,MACKC,OAAfP,KACFQ,EAAUC,cACVhC,EAAUC,yCAmBhB,OAjBAC,qBAAU,WACRC,IAAMC,IAAIJ,EAAU,UAAYuB,GAC7BN,MAAK,SAAAC,GAAQ,IACNJ,EAAQI,EAAIC,KAAZL,IAIN,GAHKa,EAAUM,KAAKnB,KAClBA,EAAM,WAAaA,IAEhBa,EAAUM,KAAKnB,GAClB,MAAM,IAAIW,MAAM,eAElB5B,OAAOC,SAASoC,KAAOpB,KAExBT,OAAM,SAAAC,GACLyB,EAAQI,KAAK,UAEhB,CAACJ,EAASR,EAAMvB,IAGjB,2CCRWoC,EAfH,WAMV,OALAlC,qBAAU,WACRmC,IAAQC,WAAW,kBACnBD,IAAQE,SAAS1C,OAAOC,SAAS4B,SAAW7B,OAAOC,SAAS0C,UAC3D,IAGD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWvD,IACjC,kBAAC,IAAD,CAAOsD,KAAK,sBAAoBC,UAAWf,EAAUgB,OAAQ,MAC7D,kBAAC,IAAD,CAAOD,UAAWlB,EAAOmB,OAAQ,QCXvCC,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.5ba75d6a.chunk.js","sourcesContent":["import React from \"react\";\nimport { OutboundLink } from \"react-ga\";\n\nconst General = ({ children }) => {\n  return (\n    <div className=\"App\">\n      <div className=\"wrapper\"></div>\n      <div className=\"static\"></div>\n      <div className=\"content\">\n        <h1>cool.lol</h1>\n        <h4>shorten any url</h4>\n        {children}\n      </div>\n      <OutboundLink\n        eventLabel=\"marcusfranco\"\n        to=\"https://marcusfran.co\"\n      >\n        Marcus Franco <span role=\"img\" aria-label=\"a dude with sunglasses\">ðŸ˜Ž</span>\n      </OutboundLink>\n    </div>\n  );\n};\n\nexport default General;\n","import React from \"react\";\n\nconst LoadingIcon = () => (\n  <div className=\"loading-icon\"> \n    <div className=\"loading-icon sub-loading-icon-1\"> \n    </div>\n  </div>\n);\n\nexport default LoadingIcon;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport General from \"./General\";\nimport LoadingIcon from \"../components/LoadingIcon\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\nconst Home = () => {\n  const [loading, setLoading] = useState(false);\n  const [failed, setFailed] = useState(false);\n  const [urlInfo, setUrlInfo] = useState({});\n  const baseUrl = window.location.origin;\n  const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:1234/api\";\n\n  const onSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n\n    axios\n      .post(API_URL + \"/create\", {\n        url: e.target[0].value\n      })\n      .then(res => {\n        setLoading(false);\n        setFailed(false);\n        setUrlInfo(res.data);\n      })\n      .catch(err => {\n        setLoading(false);\n        setFailed(true);\n      });\n  };\n\n  useEffect(() => {\n    axios\n      .get(API_URL)\n      .catch(err => {\n        setFailed(true);\n      });\n  }, [API_URL]);\n\n  return (\n    <General>\n      {failed && (\n        <p>server issued an error. try again later</p>\n      )}\n      {!loading ? (\n        <div>\n          {Object.keys(urlInfo).length === 0 ? (\n            <form onSubmit={onSubmit}>\n              <input type=\"text\" placeholder=\"enter your long url\" required />\n              <input type=\"submit\" value=\"generate\" />\n            </form>\n          ) : (\n            <>\n              <p>your url has been created: <Link to={`/${urlInfo.slug}`}>{`${baseUrl}/${urlInfo.slug}`}</Link></p>\n              <p>your secret access key is: <b>{urlInfo.key}</b></p>\n              <p>the key will allow you to view data for your url (eventually.)</p>\n            </>\n          )}\n        </div>\n      ) : (\n        <LoadingIcon />\n      )}\n    </General>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport General from \"./General\";\n\nconst Error = ({ location }) => {\n  return (\n    <General>\n      <p>not found: {location.pathname}</p>\n      <Link to=\"/\">back home</Link>\n    </General>\n  );\n};\n\nexport default Error;\n","// eslint-disable-next-line\nexport const URL_REGEX = /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$/;\n","import React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { URL_REGEX } from \"../config/constants\";\nimport axios from \"axios\";\nimport dotenv from \"dotenv\";\ndotenv.config();\n\nconst Redirect = ({ match }) => {\n  const { slug } = match.params;\n  const history = useHistory();\n  const API_URL = process.env.REACT_APP_API_URL || \"http://localhost:1234/api\";\n\n  useEffect(() => {\n    axios.get(API_URL + \"/click/\" + slug)\n      .then(res => {\n        let { url } = res.data;\n        if (!URL_REGEX.test(url)) {\n          url = \"https://\" + url;\n        }\n        if (!URL_REGEX.test(url)) {\n          throw new Error(\"Invalid URL\");\n        }\n        window.location.href = url;\n      })\n      .catch(err => {\n        history.push(\"/\");\n      });\n  }, [history, slug, API_URL]);\n\n  return (\n    <p>Redirecting</p>\n  );\n};\n\nexport default Redirect;\n","import React, { useEffect } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Error from \"./pages/Error\";\nimport Redirect from \"./pages/Redirect\";\nimport ReactGA from \"react-ga\";\n\nconst App = () => {\n  useEffect(() => {\n    ReactGA.initialize(\"UA-156555564-2\");\n    ReactGA.pageview(window.location.pathname + window.location.search);\n  }, []);\n  \n  return (\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route path=\"/:slug([\\w\\-]{5})\" component={Redirect} status={301} />\n      <Route component={Error} status={404} />\n    </Switch>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport \"./stylesheets/index.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}